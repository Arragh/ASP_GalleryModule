@model ASP_GalleryModule.ViewModels.Gallery.ViewGalleryViewModel

<form asp-controller="Gallery" asp-action="ViewGallery" method="post" enctype="multipart/form-data">
    <div>
        <input type="hidden" asp-for="GalleryId" value="@Model.GalleryId" />
        <input type="hidden" asp-for="GalleryDate" value="@Model.GalleryDate" />
        <input type="hidden" asp-for="UserName" value="@Model.UserName" />
        <label asp-for="GalleryTitle"></label><br />
        <input type="text" asp-for="GalleryTitle" width="300" />
        @Html.ValidationMessageFor(t => t.GalleryTitle)<br />
    </div>
    <div>
        <label asp-for="GalleryDescription"></label><br />
        <textarea asp-for="GalleryDescription" rows="30" cols="100"></textarea>
        @Html.ValidationMessageFor(b => b.GalleryDescription)<br />
    </div>
    <div>
        <font color="red">@Html.ValidationMessageFor(f => f.GalleryImage)</font><br />
        @if (Model.ImagesCount < 12)
        {
            <input type="file" name="uploads" accept=".jpg,.jpeg,.png" multiple="" /><br />
        }
    </div>
    <div>
        <input type="submit" value="Сохранить" />
    </div>
</form>
<br />
<br />
@if (Model.GalleryImages != null && Model.GalleryImages.Count > 0)
{
    foreach (var image in Model.GalleryImages)
    {
        <a href="@Url.Content(image.ImagePathNormal)"><img src="@Url.Content(image.ImagePathScaled)" /></a>
        @Html.ActionLink("X", "ViewGallery", "Gallery", new { galleryId = Model.GalleryId, imageToDeleteName = image.ImageName })
    }
}

@section scripts
{
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
